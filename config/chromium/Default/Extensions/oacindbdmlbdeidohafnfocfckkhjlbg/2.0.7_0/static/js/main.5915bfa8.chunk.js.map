{"version":3,"sources":["components/Settings/SettingsComponent.js","core/types.js","components/Header/HeaderComponent.js","lib/mp/mp.js","components/Player/PlayerComponent.js","components/TabPanel/TabPanel.js","components/Settings/Hotkeys/HotkeysComponent.js","components/Footer/FooterComponent.js","App.js","serviceWorker.js","store/store.js","index.js","core/constants.js","util/util.js","assets/flags/ind.svg","assets/flags/gbr.svg","assets/flags/usa.svg","assets/flags/deu.svg","assets/flags/esp.svg","assets/flags/fra.svg","assets/flags/ita.svg","assets/flags/jpn.svg","assets/flags/kor.svg","assets/flags/nld.svg","assets/flags/pol.svg","assets/flags/bra.svg","assets/flags/rus.svg","assets/flags/chn.svg","assets/flags/hkg.svg","assets/flags/twn.svg","assets/flags/rou.svg"],"names":["t","APP","UPDATE","PLAYER","STATUS","IS_STOPPED","IS_LOADING","IS_READY","IS_PLAYING","IS_PAUSED","IS_ERROR","ACTION","LOADING","ERROR","TAB_ID","SET_VOICES","EPIC","PREV","NEXT","PLAY","STOP","HALT","PAUSE","RESUME","SETTINGS","OTHER_UPDATE","HOTKEY_FOCUS","SET_HOTKEYS","PARSER","SET_SECTIONS","GET_SECTIONS","HeaderComponent","state","readingTime","updateReadingTime","calcReadingTime","props","sections","slice","currentSection","rate","setState","nextProps","nextContext","this","infoText","classes","infoTextIcon","ScheduleRounded","infoTextBox","Typography","className","text","component","messages","readTime","status","CircularProgress","size","loading","InfoSharp","start","SentimentVeryDissatisfiedRounded","failed","includes","Grid","container","spacing","align","alignItems","alignContent","justify","root","item","xs","infoIconBoxStyle","infoTextBoxStyle","IconButton","onClick","onShowSettingsChanged","showSettings","color","SettingsSharp","Component","connect","player","settings","dispatch","toggle","type","withStyles","theme","height","fontSize","fontWeight","display","justifyContent","core","chrome","browser","mpToContent","message","params","a","console","log","Promise","resolve","reject","tabs","query","currentWindow","active","activeTab","id","sentData","sendMessage","data","tabId","response","error","PlayerComponent","parseState","playState","pauseState","playRef","React","createRef","stopRef","nextRef","prevRef","hotkeyEvents","play","ReactTestUtils","Simulate","click","current","stop","next","prev","registerKeyUpListener","document","addEventListener","e","clearTimeout","setTimeout","hotkeyFocus","hotkeys","which","key","code","push","onUpdateHotkeyAndResetFocus","find","Object","keys","disableHotkeys","playOrParse","parse","onPlay","onPause","onLoading","timeout","race","st","onError","onSetPlayingTabId","isDisabledPlay","isDisabledOther","playIcon","PlayArrowSharp","largeIcon","PauseSharp","playButton","flatButton","bigBtn","disabled","ref","fbutton","activeButton","style","borderLeft","onStop","StopSharp","button","smallBtn","onPrev","SkipPreviousSharp","onNext","SkipNextSharp","onSetSections","value","border","borderBottom","padding","borderRadius","width","backgroundColor","palette","primary","main","flags","GB","US","DE","ES","FR","IN","ID","IT","JP","KR","NL","PL","BR","RU","CN","HK","TW","RO","SettingsComponent","settingsChanged","val","onSettingChanged","otherSettingsChanged","onOtherSettingsChanged","voiceChanged","event","countriesFlags","voice","voices","Box","mt","mb","Autocomplete","options","getOptionLabel","option","shortTitle","groupBy","groupName","onChange","defaultValue","renderOption","countryCode","src","alt","flagImg","flagOptionImg","FlagSharp","renderInput","InputProps","startAdornment","InputAdornment","position","TextField","label","variant","fullWidth","gutterBottom","Slider","volume","aria-labelledby","valueLabelDisplay","step","scale","x","marks","min","max","pitch","FormGroup","row","FormControlLabel","control","Switch","checked","autoscroll","inputProps","updatedState","marginRight","TabPanel","children","index","other","role","hidden","p","HotkeysComponent","onPlayChanged","target","onKeyFocus","onHotkeyFocus","getKeyCombo","map","playKey","trim","length","toLocaleUpperCase","join","playDefault","stopDefault","nextDefault","prevDefault","noValidate","autoComplete","readOnly","onFocus","onBlur","hotkey","FooterComponent","a11yProps","AppBar","Tabs","aria-label","Tab","createMuiTheme","light","dark","secondary","tertiary","tracker","App","ThemeProvider","CssBaseline","Boolean","window","location","hostname","match","store","Store","ready","then","ReactDOM","render","getElementById","navigator","serviceWorker","registration","unregister","INTERVAL_WORD","INTERVAL_SPEAKING_SERVICE_DELAY","GA_TRACKING_ID","GA_CLIENT_ID","IS_FIREFOX","InstallTrigger","timeReadingWords","section","split","reduce","acc","timeDelayingSentences","Math","ceil","action","url","runtime","module","exports"],"mappings":"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","file":"static/js/main.5915bfa8.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { SETTINGS } from \"../../core/types\";\nimport {\n  FormGroup,\n  TextField,\n  Box,\n  Grid,\n  Typography,\n  Slider,\n  FormControlLabel,\n  withStyles,\n  Switch,\n  InputAdornment\n} from \"@material-ui/core\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { FlagSharp } from \"@material-ui/icons\";\nimport * as countriesFlags from \"../../core/countries.json\";\n\n// country flags\nimport GB from \"../../assets/flags/gbr.svg\";\nimport US from \"../../assets/flags/usa.svg\";\nimport DE from \"../../assets/flags/deu.svg\";\nimport ES from \"../../assets/flags/esp.svg\";\nimport FR from \"../../assets/flags/fra.svg\";\nimport IN from \"../../assets/flags/ind.svg\";\nimport ID from \"../../assets/flags/ind.svg\";\nimport IT from \"../../assets/flags/ita.svg\";\nimport JP from \"../../assets/flags/jpn.svg\";\nimport KR from \"../../assets/flags/kor.svg\";\nimport NL from \"../../assets/flags/nld.svg\";\nimport PL from \"../../assets/flags/pol.svg\";\nimport BR from \"../../assets/flags/bra.svg\";\nimport RU from \"../../assets/flags/rus.svg\";\nimport CN from \"../../assets/flags/chn.svg\";\nimport HK from \"../../assets/flags/hkg.svg\";\nimport TW from \"../../assets/flags/twn.svg\";\nimport RO from \"../../assets/flags/rou.svg\";\n\nconst flags = {\n  GB: GB,\n  US: US,\n  DE: DE,\n  ES: ES,\n  FR: FR,\n  IN: IN,\n  ID: ID,\n  IT: IT,\n  JP: JP,\n  KR: KR,\n  NL: NL,\n  PL: PL,\n  BR: BR,\n  RU: RU,\n  CN: CN,\n  HK: HK,\n  TW: TW,\n  RO: RO\n};\n\nconst styles = theme => ({\n  text: {\n    fontSize: 12\n  },\n  flagImg: {\n    width: 30\n  },\n  flagOptionImg: {\n    marginRight: 8\n  }\n});\n\nlet t;\nclass SettingsComponent extends Component {\n  settingsChanged = (key, val) => {\n    clearTimeout(t);\n    t = setTimeout(() => {\n      this.props.onSettingChanged(key, val);\n    }, 300);\n  };\n\n  otherSettingsChanged = (key, val) => {\n    this.props.onOtherSettingsChanged(key, val);\n  };\n\n  voiceChanged = (event, value, key) => {\n    console.log(\"voiceChanged\", event, value, key);\n    this.props.onSettingChanged(\"voice\", value.id);\n  };\n\n  render() {\n    console.log(\"countriesFlags\", countriesFlags);\n    console.log(\"flag GB\", GB);\n    const { classes } = this.props;\n    const voice = this.props.voices[this.props.voice];\n    return (\n      <>\n        <Box mt={1} mb={1}>\n          <Autocomplete\n            size=\"small\"\n            id=\"change-voice-combo\"\n            options={this.props.voices}\n            getOptionLabel={option => option.shortTitle}\n            groupBy={option => option.groupName}\n            onChange={this.voiceChanged}\n            defaultValue={voice}\n            style={{ width: \"100%\" }}\n            renderOption={option => {\n              return (\n                <>\n                  {flags[option.countryCode] ? (\n                    <img\n                      src={flags[option.countryCode]}\n                      alt={option.countryCode}\n                      className={`${classes.flagImg} ${classes.flagOptionImg}`}\n                    />\n                  ) : (\n                    <FlagSharp />\n                  )}\n                  {option.shortTitle}\n                </>\n              );\n            }}\n            renderInput={params => {\n              params.InputProps.startAdornment = (\n                <InputAdornment position=\"start\">\n                  {voice && flags[voice.countryCode] ? (\n                    <img\n                      src={flags[voice.countryCode]}\n                      alt={voice.countryCode}\n                      className={classes.flagImg}\n                    />\n                  ) : (\n                    <FlagSharp />\n                  )}\n                </InputAdornment>\n              );\n              return (\n                <TextField\n                  {...params}\n                  label=\"Voice & Language\"\n                  variant=\"outlined\"\n                  fullWidth\n                />\n              );\n            }}\n          />\n        </Box>\n        <Grid container>\n          <Grid item xs={12}>\n            <Typography\n              component=\"span\"\n              className={classes.text}\n              id=\"discrete-slider\"\n              gutterBottom\n            >\n              Volume\n            </Typography>\n            <Slider\n              onChange={(event, value) => {\n                this.settingsChanged(\"volume\", value);\n              }}\n              defaultValue={this.props.volume}\n              aria-labelledby=\"discrete-slider\"\n              valueLabelDisplay=\"auto\"\n              step={0.1}\n              scale={x => x * 100}\n              marks\n              min={0.1}\n              max={1}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography\n              component=\"span\"\n              className={classes.text}\n              id=\"discrete-slider\"\n              gutterBottom\n            >\n              Pitch\n            </Typography>\n            <Slider\n              onChange={(event, value) => {\n                this.settingsChanged(\"pitch\", value);\n              }}\n              defaultValue={this.props.pitch}\n              aria-labelledby=\"discrete-slider\"\n              valueLabelDisplay=\"auto\"\n              step={0.1}\n              marks\n              min={0.1}\n              max={2}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography\n              component=\"span\"\n              className={classes.text}\n              id=\"discrete-slider\"\n              gutterBottom\n            >\n              Speed\n            </Typography>\n            <Slider\n              onChange={(event, value) => {\n                this.settingsChanged(\"rate\", value);\n              }}\n              defaultValue={this.props.rate}\n              aria-labelledby=\"discrete-slider\"\n              valueLabelDisplay=\"auto\"\n              step={0.1}\n              marks\n              min={0.1}\n              max={3.5}\n            />\n          </Grid>\n        </Grid>\n        <FormGroup row>\n          <FormControlLabel\n            control={\n              <Switch\n                checked={this.props.autoscroll}\n                color=\"primary\"\n                onChange={(event, value) => {\n                  this.otherSettingsChanged(\"autoscroll\", value);\n                }}\n                inputProps={{ \"aria-label\": \"primary checkbox\" }}\n                value=\"1\"\n              />\n            }\n            label=\"Auto-scroll\"\n          />\n        </FormGroup>\n      </>\n    );\n  }\n}\n\nconst mapStateToPros = state => {\n  return {\n    showSettings: state.showSettings,\n\n    voice: state.player.settings.voice,\n    voices: state.player.voices,\n    volume: state.player.settings.volume,\n    pitch: state.player.settings.pitch,\n    rate: state.player.settings.rate,\n\n    autoscroll: state.autoscroll\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSettingChanged: (key, val) => {\n      const updatedState = { type: SETTINGS.ACTION.UPDATE };\n      updatedState[key] = val;\n      return dispatch(updatedState);\n    },\n    onOtherSettingsChanged: (key, val) => {\n      const updatedState = { type: SETTINGS.ACTION.OTHER_UPDATE };\n      updatedState[key] = val;\n      return dispatch(updatedState);\n    }\n  };\n};\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(withStyles(styles)(SettingsComponent));\n","export const APP = {\n  ACTION: {\n    UPDATE: \"APP::UPDATE\"\n  }\n};\nexport const PLAYER = {\n  STATUS: {\n    IS_STOPPED: 0,\n    IS_LOADING: 1,\n    IS_READY: 2,\n    IS_PLAYING: 3,\n    IS_PAUSED: 4,\n    IS_ERROR: 5\n  },\n  ACTION: {\n    LOADING: \"PLAYER::LOADING\",\n    ERROR: \"PLAYER::ERROR\",\n    UPDATE: \"PLAYER::UPDATE\",\n    TAB_ID: \"PLAYER::TAB_ID\",\n    SET_VOICES: \"PLAYER::SET_VOICES\"\n  },\n  EPIC: {\n    PREV: \"PLAYER::PREV\",\n    NEXT: \"PLAYER::NEXT\",\n    PLAY: \"PLAYER::PLAY\",\n    STOP: \"PLAYER::STOP\",\n    HALT: \"PLAYER::HALT\",\n    PAUSE: \"PLAYER::PAUSE\",\n    RESUME: \"PLAYER::RESUME\"\n  }\n};\n\nexport const CONTENT = {\n  ACTION: {\n    SKIP_ANIMATE: \"CONTENT::SKIP_ANIMATE\"\n  }\n};\n\nexport const SETTINGS = {\n  ACTION: {\n    UPDATE: \"SETTINGS::UPDATE\",\n    OTHER_UPDATE: \"SETTINGS::OTHER_UPDATE\",\n    HOTKEY_FOCUS: \"SETTINGS::HOTKEY_FOCUS\",\n    SET_HOTKEYS: \"SETTINGS::SET_HOTKEYS\"\n  }\n};\n\nexport const PARSER = {\n  ACTION: {\n    SET_SECTIONS: \"PARSER::SET_SECTIONS\",\n    GET_SECTIONS: \"PARSER::GET_SECTIONS\"\n  }\n};\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Grid,\n  Typography,\n  CircularProgress,\n  IconButton,\n  withStyles\n} from \"@material-ui/core\";\nimport { PLAYER, APP } from \"../../core/types\";\nimport {\n  SentimentVeryDissatisfiedRounded,\n  ScheduleRounded,\n  SettingsSharp,\n  InfoSharp\n} from \"@material-ui/icons\";\nimport messages from \"../../lib/UI/UI.messages.json\";\nimport { calcReadingTime } from \"../../util/util\";\n\nconst styles = theme => ({\n  root: {\n    height: 35\n  },\n  text: {\n    fontSize: 13,\n    fontWeight: \"bold\"\n  },\n  infoIconBoxStyle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: \"#545454\"\n  },\n  infoTextBoxStyle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    color: \"#545454\"\n  }\n});\n\nclass HeaderComponent extends Component {\n  state = {\n    readingTime: 0\n  };\n\n  updateReadingTime = () => {\n    let readingTime = calcReadingTime(\n      this.props.sections.slice(this.props.currentSection),\n      this.props.rate\n    );\n\n    if (readingTime) this.setState({ readingTime: readingTime });\n  };\n\n  componentWillReceiveProps(nextProps, nextContext) {\n    this.updateReadingTime();\n  }\n\n  componentDidMount() {\n    this.updateReadingTime();\n  }\n\n  render() {\n    const { classes } = this.props;\n    let infoTextIcon = <ScheduleRounded />;\n    let infoText;\n    let infoTextBox = (\n      <Typography className={classes.text} component=\"span\">\n        {this.state.readingTime === 0\n          ? `calculating reading time..`\n          : `~${this.state.readingTime}m ${messages.readTime.text}`}\n      </Typography>\n    );\n\n    if (this.props.status === PLAYER.STATUS.IS_LOADING) {\n      infoTextIcon = <CircularProgress size={20} />;\n      infoText = messages.loading.text;\n    } else if (this.props.status === PLAYER.STATUS.IS_STOPPED) {\n      infoTextIcon = <InfoSharp />;\n      infoText = messages.start.text;\n    } else if (this.props.status === PLAYER.STATUS.IS_ERROR) {\n      infoTextIcon = <SentimentVeryDissatisfiedRounded />;\n      infoText = messages.failed.text;\n    }\n\n    if (\n      [\n        PLAYER.STATUS.IS_LOADING,\n        PLAYER.STATUS.IS_STOPPED,\n        PLAYER.STATUS.IS_ERROR\n      ].includes(this.props.status)\n    ) {\n      infoTextBox = (\n        <Typography className={classes.text} component=\"span\">\n          {infoText}\n        </Typography>\n      );\n    }\n\n    return (\n      <Grid\n        container\n        spacing={0}\n        align=\"center\"\n        alignItems=\"center\"\n        alignContent=\"center\"\n        justify=\"center\"\n        className={classes.root}\n      >\n        <Grid item xs={10}>\n          <Grid\n            container\n            alignItems=\"center\"\n            alignContent=\"center\"\n            className={classes.root}\n          >\n            <Grid\n              item\n              xs={2}\n              align=\"center\"\n              className={classes.infoIconBoxStyle}\n            >\n              {infoTextIcon}\n            </Grid>\n            <Grid\n              item\n              xs={10}\n              align=\"left\"\n              className={classes.infoTextBoxStyle}\n            >\n              {infoTextBox}\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Grid item xs={2}>\n          <IconButton\n            onClick={() => {\n              this.props.onShowSettingsChanged(!this.props.showSettings);\n            }}\n            size=\"small\"\n            color=\"primary\"\n          >\n            <SettingsSharp />\n          </IconButton>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    sections: state.player.sections,\n    currentSection: state.player.currentSection,\n    status: state.player.status,\n    showSettings: state.showSettings,\n    rate: state.player.settings.rate\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onShowSettingsChanged: toggle =>\n      dispatch({ type: APP.ACTION.UPDATE, showSettings: toggle })\n  };\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(HeaderComponent));\n","/*eslint-disable */\nconst core = chrome || browser;\n/*eslint-enable */\n\nexport const mpToContent = async (message, params) => {\n  console.log(\"Pericles.mp.mpToContent(message, params)\", message, params);\n  return new Promise(async (resolve, reject) => {\n    await core.tabs.query(\n      {\n        currentWindow: true,\n        active: true\n      },\n      async tabs => {\n        const activeTab = tabs[0];\n        if (activeTab && activeTab.id) {\n          const sentData = {};\n          sentData.message = message;\n          if (typeof params !== \"undefined\") sentData.params = params;\n          console.log(\n            \"Pericles.mp.mpToContent(activeTab, sentData)\",\n            activeTab,\n            sentData\n          );\n          core.tabs.sendMessage(activeTab.id, sentData, async data => {\n            console.log(\"Pericles.mp.mpToContent.response(data)\", data);\n            resolve({ tabId: activeTab.id, response: data || true });\n          });\n        } else {\n          reject({ error: \"no active tab\", response: false });\n        }\n      }\n    );\n  });\n};\n\nexport const getContentTabId = async () => {\n  console.log(\"Pericles.mp.getContentTabId\");\n  return new Promise(async (resolve, reject) => {\n    core.tabs.query(\n      {\n        currentWindow: true,\n        active: true\n      },\n      async tabs => {\n        const activeTab = tabs[0];\n        resolve(activeTab.id);\n      }\n    );\n  });\n};\n\nexport const mpToBackground = async (message, params) => {\n  console.log(\"Pericles.mp.mpToBackground(message, params)\", message, params);\n  return new Promise((resolve, reject) => {\n    const sentData = {};\n    sentData.message = message;\n    if (typeof params !== \"undefined\") sentData.params = params;\n\n    core.runtime.sendMessage(sentData, response => {\n      console.log(\"Pericles.mp.mpToBackground.sendMessage.response\", response);\n      resolve(response);\n    });\n  });\n};\n\nexport const mpToPopup = async (message, params) => {\n  console.log(\"Pericles.mp.mpToPopup(message, params)\", message, params);\n  return new Promise((resolve, reject) => {\n    const sentData = {};\n    sentData.message = message;\n    if (typeof params !== \"undefined\") sentData.params = params;\n\n    core.runtime.sendMessage(sentData, response => {\n      console.log(\"Pericles.mp.mpToPopup.sendMessage.response\", response);\n      resolve(response);\n    });\n  });\n};\n","import React, { Component } from \"react\";\nimport ReactTestUtils from \"react-dom/test-utils\";\n\nimport { Grid, IconButton, withStyles } from \"@material-ui/core\";\nimport {\n  PlayArrowSharp,\n  StopSharp,\n  SkipPreviousSharp,\n  SkipNextSharp,\n  PauseSharp\n} from \"@material-ui/icons\";\nimport { connect } from \"react-redux\";\nimport { mpToContent } from \"../../lib/mp/mp\";\nimport { PLAYER, PARSER, SETTINGS } from \"../../core/types\";\n\nconst styles = theme => ({\n  fbutton: {\n    border: \"1px solid #dfdfdf\",\n    borderBottom: \"none\"\n  },\n  bigBtn: {\n    padding: 16\n  },\n  smallBtn: {\n    padding: 6\n  },\n  button: {\n    border: \"1px solid #dfdfdf\"\n  },\n  flatButton: {\n    borderRadius: 0,\n    width: \"100%\"\n  },\n  activeButton: {\n    backgroundColor: theme.palette.primary.main\n  },\n  largeIcon: {\n    height: 30,\n    width: 30\n  }\n});\n\nclass PlayerComponent extends Component {\n  parseState = [PLAYER.STATUS.IS_STOPPED, PLAYER.STATUS.IS_ERROR];\n  playState = [PLAYER.STATUS.IS_READY, PLAYER.STATUS.IS_PAUSED];\n  pauseState = [PLAYER.STATUS.IS_PLAYING];\n  t = 0;\n  playRef = React.createRef();\n  stopRef = React.createRef();\n  nextRef = React.createRef();\n  prevRef = React.createRef();\n\n  componentDidMount() {\n    this.registerKeyUpListener();\n  }\n\n  hotkeyEvents = {\n    play: () => {\n      ReactTestUtils.Simulate.click(this.playRef.current);\n    },\n    stop: () => {\n      ReactTestUtils.Simulate.click(this.stopRef.current);\n    },\n    next: () => {\n      ReactTestUtils.Simulate.click(this.nextRef.current);\n    },\n    prev: () => {\n      ReactTestUtils.Simulate.click(this.prevRef.current);\n    }\n  };\n\n  registerKeyUpListener = () => {\n    document.addEventListener(\"keyup\", e => {\n      clearTimeout(this.t);\n      this.t = setTimeout(() => {\n        console.log(\"onKeyUp\", e);\n        if (this.props.hotkeyFocus) {\n          const hotkeys = [];\n          const { which, key, code } = e;\n          hotkeys.push({ which, key, code });\n          this.props.onUpdateHotkeyAndResetFocus(\n            this.props.hotkeyFocus,\n            hotkeys\n          );\n        } else {\n          const find = Object.keys(this.props.hotkeys).find(key => {\n            console.log(this.props.hotkeys[key], key, e);\n            return this.props.hotkeys[key][0].which === e.which;\n          });\n          if (!this.props.disableHotkeys && find && this.hotkeyEvents[find])\n            this.hotkeyEvents[find]();\n        }\n      }, 150);\n    });\n  };\n\n  playOrParse = async () => {\n    if (this.parseState.includes(this.props.status)) this.parse();\n    else if (this.playState.includes(this.props.status)) this.props.onPlay();\n    else if (this.pauseState.includes(this.props.status)) this.props.onPause();\n  };\n\n  parse = async () => {\n    this.props.onLoading();\n    const timeout = new Promise(resolve => {\n      let id = setTimeout(() => {\n        clearTimeout(id);\n        resolve({ response: false, error: \"timeout\" });\n      }, 40000);\n    });\n\n    try {\n      const st = await Promise.race([mpToContent(\"getSections\"), timeout]);\n      // const st = await mpToContent(\"getSections\");\n      console.log(\"getSections.response\", st);\n      if (st.response !== true) this.props.onError();\n      if (st.tabId) this.props.onSetPlayingTabId(st.tabId);\n      console.log(\"parse.succes\", st);\n    } catch (e) {\n      console.log(\"parse.error\");\n      this.props.onError();\n    }\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    const isDisabledPlay = this.props.status === PLAYER.STATUS.IS_LOADING;\n    const isDisabledOther = [\n      PLAYER.STATUS.IS_STOPPED,\n      PLAYER.STATUS.IS_LOADING,\n      PLAYER.STATUS.IS_ERROR\n    ].includes(this.props.status);\n\n    let playIcon = <PlayArrowSharp className={classes.largeIcon} />;\n\n    if (\n      [PLAYER.STATUS.IS_READY, PLAYER.STATUS.IS_PAUSED].includes(\n        this.props.status\n      )\n    ) {\n      playIcon = <PlayArrowSharp className={classes.largeIcon} />;\n    } else if (this.props.status === PLAYER.STATUS.IS_PLAYING) {\n      playIcon = <PauseSharp className={classes.largeIcon} />;\n    }\n\n    const playButton = (\n      <IconButton\n        className={`${classes.flatButton} ${classes.bigBtn}`}\n        disabled={isDisabledPlay}\n        onClick={this.playOrParse}\n        color=\"secondary\"\n        ref={this.playRef}\n      >\n        {playIcon}\n      </IconButton>\n    );\n\n    let html = (\n      <>\n        <Grid container align=\"center\">\n          <Grid\n            xs={9}\n            className={`${classes.fbutton} ${classes.activeButton}`}\n            item\n          >\n            {playButton}\n          </Grid>\n          <Grid\n            xs={3}\n            item\n            className={`${classes.fbutton}`}\n            style={{ borderLeft: \"none\" }}\n          >\n            <IconButton\n              disabled={isDisabledOther}\n              onClick={this.props.onStop}\n              className={`${classes.flatButton} ${classes.bigBtn}`}\n              color=\"primary\"\n              ref={this.stopRef}\n            >\n              <StopSharp className={classes.largeIcon} />\n            </IconButton>\n          </Grid>\n        </Grid>\n        <Grid container align=\"center\">\n          <Grid item xs={6} className={classes.button}>\n            <IconButton\n              className={`${classes.flatButton} ${classes.smallBtn}`}\n              disabled={isDisabledOther}\n              onClick={this.props.onPrev}\n              color=\"primary\"\n              size=\"small\"\n              ref={this.prevRef}\n            >\n              <SkipPreviousSharp className={classes.largeIcon} />\n            </IconButton>\n          </Grid>\n          <Grid\n            item\n            xs={6}\n            className={classes.button}\n            style={{ borderLeft: \"none\" }}\n          >\n            <IconButton\n              className={`${classes.flatButton} ${classes.smallBtn}`}\n              disabled={isDisabledOther}\n              onClick={this.props.onNext}\n              ref={this.nextRef}\n              color=\"primary\"\n              size=\"small\"\n            >\n              <SkipNextSharp className={classes.largeIcon} />\n            </IconButton>\n          </Grid>\n        </Grid>\n      </>\n    );\n    return html;\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    sections: state.player.sections,\n    status: state.player.status,\n    hotkeyFocus: state.hotkeyFocus,\n    hotkeys: state.hotkeys,\n    disableHotkeys: state.disableHotkeys\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSetSections: sections => {\n      dispatch({ type: PARSER.ACTION.SET_SECTIONS, value: sections });\n    },\n    onLoading: () => {\n      dispatch({ type: PLAYER.ACTION.LOADING });\n    },\n    onError: () => {\n      dispatch({ type: PLAYER.ACTION.ERROR });\n    },\n    onPlay: () => {\n      dispatch({ type: PLAYER.EPIC.PLAY });\n    },\n    onStop: () => {\n      dispatch({ type: PLAYER.EPIC.STOP });\n    },\n    onPause: () => {\n      dispatch({ type: PLAYER.EPIC.PAUSE });\n    },\n    onNext: () => {\n      dispatch({ type: PLAYER.EPIC.NEXT });\n    },\n    onPrev: () => {\n      dispatch({ type: PLAYER.EPIC.PREV });\n    },\n    onSetPlayingTabId: id => {\n      dispatch({ type: PLAYER.ACTION.TAB_ID, tabId: id });\n    },\n    onUpdateHotkeyAndResetFocus: (key, hotkeys) => {\n      return dispatch({\n        type: SETTINGS.ACTION.SET_HOTKEYS,\n        hotkeyFocus: \"\",\n        key: key,\n        hotkeys: hotkeys\n      });\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(PlayerComponent));\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Box, Typography } from \"@material-ui/core\";\n\nexport default function TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={2}>{children}</Box>}\n    </Typography>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n","import React, { Component } from \"react\";\nimport {\n  TextField,\n  Typography,\n  FormControlLabel,\n  FormGroup,\n  Switch\n} from \"@material-ui/core\";\nimport { SETTINGS } from \"../../../core/types\";\nimport { connect } from \"react-redux\";\n\nclass HotkeysComponent extends Component {\n  otherSettingsChanged = (key, val) => {\n    this.props.onOtherSettingsChanged(key, val);\n  };\n\n  onPlayChanged = e => {\n    console.log(\"onPlayChanged\", e.target.value);\n  };\n\n  onKeyFocus = type => {\n    this.props.onHotkeyFocus(type);\n  };\n\n  getKeyCombo = key => {\n    return this.props.hotkeys[key]\n      .map(playKey => {\n        if (playKey.key.trim().length) {\n          return playKey.key.toLocaleUpperCase();\n        } else {\n          return playKey.code.toLocaleUpperCase();\n        }\n      })\n      .join(\"+\");\n  };\n\n  render() {\n    const playDefault = this.getKeyCombo(\"play\");\n    const stopDefault = this.getKeyCombo(\"stop\");\n    const nextDefault = this.getKeyCombo(\"next\");\n    const prevDefault = this.getKeyCombo(\"prev\");\n    console.log(\"playDefault\", playDefault);\n    return (\n      <>\n        <form noValidate autoComplete=\"off\">\n          <Typography>Customize your hotkeys</Typography>\n          <div>\n            <TextField\n              inputProps={{ readOnly: true }}\n              id=\"filled-basic\"\n              label=\"play/pause\"\n              variant=\"filled\"\n              onFocus={(e: any) => {\n                this.onKeyFocus(\"play\");\n              }}\n              onBlur={() => {\n                this.onKeyFocus(\"\");\n              }}\n              value={playDefault}\n            />\n          </div>\n          <div>\n            <TextField\n              id=\"filled-basic\"\n              inputProps={{ readOnly: true }}\n              label=\"stop\"\n              variant=\"filled\"\n              onBlur={() => {\n                this.onKeyFocus(\"\");\n              }}\n              onFocus={() => {\n                this.onKeyFocus(\"stop\");\n              }}\n              value={stopDefault}\n            />\n          </div>\n          <div>\n            <TextField\n              id=\"filled-basic\"\n              inputProps={{ readOnly: true }}\n              onBlur={() => {\n                this.onKeyFocus(\"\");\n              }}\n              onFocus={() => {\n                this.onKeyFocus(\"next\");\n              }}\n              label=\"next\"\n              variant=\"filled\"\n              value={nextDefault}\n            />\n          </div>\n          <div>\n            <TextField\n              inputProps={{ readOnly: true }}\n              id=\"filled-basic\"\n              label=\"prev\"\n              onBlur={() => {\n                this.onKeyFocus(\"\");\n              }}\n              onFocus={() => {\n                this.onKeyFocus(\"prev\");\n              }}\n              variant=\"filled\"\n              value={prevDefault}\n            />\n          </div>\n        </form>\n        <FormGroup row>\n          <FormControlLabel\n            control={\n              <Switch\n                checked={this.props.disableHotkeys}\n                color=\"primary\"\n                onChange={(event, value) => {\n                  this.otherSettingsChanged(\"disableHotkeys\", value);\n                }}\n                inputProps={{ \"aria-label\": \"primary checkbox\" }}\n                value=\"1\"\n              />\n            }\n            label=\"Disable hotkeys\"\n          />\n        </FormGroup>\n      </>\n    );\n  }\n}\n\nconst mapStateToPros = state => {\n  return {\n    disableHotkeys: state.disableHotkeys,\n    hotkeys: state.hotkeys\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onOtherSettingsChanged: (key, val) => {\n      const updatedState = { type: SETTINGS.ACTION.OTHER_UPDATE };\n      updatedState[key] = val;\n      return dispatch(updatedState);\n    },\n    onHotkeyFocus: hotkey => {\n      return dispatch({\n        type: SETTINGS.ACTION.HOTKEY_FOCUS,\n        hotkeyFocus: hotkey\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToPros, mapDispatchToProps)(HotkeysComponent);\n","import React, { Component } from \"react\";\nimport SettingsComponent from \"../Settings/SettingsComponent\";\nimport { AppBar, Tab, Tabs } from \"@material-ui/core\";\nimport TabPanel from \"../TabPanel/TabPanel\";\nimport { connect } from \"react-redux\";\nimport HotkeysComponent from \"../Settings/Hotkeys/HotkeysComponent\";\n\nclass FooterComponent extends Component {\n  state = {\n    activeTab: 0\n  };\n\n  a11yProps = index => {\n    return {\n      id: `simple-tab-${index}`,\n      \"aria-controls\": `simple-tabpanel-${index}`\n    };\n  };\n\n  render() {\n    return this.props.showSettings ? (\n      <>\n        <AppBar position=\"static\" style={{ backgroundColor: \"#031a54\" }}>\n          <Tabs\n            value={this.state.activeTab}\n            onChange={(e, val) => {\n              this.setState({ activeTab: val });\n            }}\n            aria-label=\"simple tabs example\"\n          >\n            <Tab label=\"Voice\" {...this.a11yProps(0)} />\n            <Tab label=\"Hotkeys\" {...this.a11yProps(1)} />\n          </Tabs>\n        </AppBar>\n        <TabPanel value={this.state.activeTab} index={0}>\n          <SettingsComponent />\n        </TabPanel>\n        <TabPanel value={this.state.activeTab} index={1}>\n          <HotkeysComponent />\n        </TabPanel>\n      </>\n    ) : null;\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    showSettings: state.showSettings\n  };\n};\nexport default connect(mapStateToProps)(FooterComponent);\n","import React from \"react\";\nimport {\n  Box,\n  CssBaseline,\n  createMuiTheme,\n  ThemeProvider\n} from \"@material-ui/core\";\nimport \"./App.css\";\nimport HeaderComponent from \"./components/Header/HeaderComponent\";\nimport PlayerComponent from \"./components/Player/PlayerComponent\";\nimport FooterComponent from \"./components/Footer/FooterComponent\";\nimport { tracker } from \"./util/util\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#082E8B\",\n      light: \"#4e57bc\",\n      dark: \"#000a5d\"\n    },\n    secondary: {\n      main: \"#f0f0f0\",\n      light: \"#ffffff\",\n      dark: \"#cccccc\"\n    },\n    tertiary: {\n      main: \"#999\"\n    }\n  }\n});\ntracker(\"event\", \"open\");\nfunction App() {\n  return (\n    <>\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        <Box>\n          <HeaderComponent />\n          <PlayerComponent />\n          <FooterComponent />\n        </Box>\n      </ThemeProvider>\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { Store } from \"webext-redux\";\n// import reducer from \"./reducer\";\n\nconst store = new Store();\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport store from \"./store/store\";\nimport { Provider } from \"react-redux\";\n\nstore.ready().then(() => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById(\"root\")\n  );\n});\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export const INTERVAL_WORD = 0.28;\nexport const INTERVAL_SPEAKING_SERVICE_DELAY = 0.4;\nexport const GA_TRACKING_ID = \"UA-25965793-6\";\nexport const GA_CLIENT_ID = \"\";\nexport const IS_FIREFOX = typeof InstallTrigger !== \"undefined\";\n","import {\n  INTERVAL_WORD,\n  INTERVAL_SPEAKING_SERVICE_DELAY,\n  GA_TRACKING_ID,\n  GA_CLIENT_ID,\n  IS_FIREFOX\n} from \"../core/constants\";\n\n/*eslint-disable */\nconst core = chrome || browser;\n/*eslint-enable */\n\nexport const calcReadingTime = (sections, rate) => {\n  if (sections && sections.length) {\n    const words = sections\n      .map(section =>\n        section && section.text ? (section.text || \"\").split(\" \").length : 0\n      )\n      .reduce((acc, val) => acc + val);\n\n    const timeReadingWords = (words * INTERVAL_WORD) / rate;\n    const timeDelayingSentences =\n      INTERVAL_SPEAKING_SERVICE_DELAY * sections.length;\n    return Math.ceil((timeReadingWords + timeDelayingSentences) / 60);\n  } else {\n    return 0;\n  }\n};\n\nexport const tracker = (type, data, action, url) => {\n  core.runtime.sendMessage({\n    type: type,\n    data: data,\n    action: action,\n    url: url\n  });\n};\n\nexport const reportGA = params => {\n  // Firefox 1.0+\n  if (IS_FIREFOX) return false;\n  try {\n    const request = new XMLHttpRequest();\n    let message = \"\";\n    if (!params)\n      message =\n        \"v=1&tid=\" +\n        GA_TRACKING_ID +\n        \"&cid= \" +\n        GA_CLIENT_ID +\n        \"&aip=1&dp=%2Fpopup\" +\n        \"&ds=add-on&t=pageview\";\n    else\n      message =\n        \"v=1&tid=\" +\n        GA_TRACKING_ID +\n        \"&cid= \" +\n        GA_CLIENT_ID +\n        \"&aip=1\" +\n        \"&ds=add-on&t=event&ec=\" +\n        params.category +\n        \"&ea=\" +\n        params.action +\n        \"&el=\" +\n        params.label;\n\n    request.open(\"POST\", \"https://www.google-analytics.com/collect\", true);\n    request.send(message);\n  } catch (e) {\n    console.log(\"Error sending report to Google Analytics.\\n\" + e);\n  }\n};\n\nexport function getBrowserAPI() {\n  let api;\n  /*eslint-disable */\n  try {\n    api = global.chrome || global.browser || browser;\n  } catch (error) {\n    api = browser;\n  }\n  /*eslint-enable */\n\n  if (!api) {\n    throw new Error(\"Browser API is not present\");\n  }\n\n  return api;\n}\n","module.exports = __webpack_public_path__ + \"static/media/ind.f3a60ba3.svg\";","module.exports = __webpack_public_path__ + \"static/media/gbr.2e9c71c7.svg\";","module.exports = __webpack_public_path__ + \"static/media/usa.4c3d08c6.svg\";","module.exports = __webpack_public_path__ + \"static/media/deu.85f98c37.svg\";","module.exports = __webpack_public_path__ + \"static/media/esp.24eff4ba.svg\";","module.exports = __webpack_public_path__ + \"static/media/fra.85556bea.svg\";","module.exports = __webpack_public_path__ + \"static/media/ita.48651b91.svg\";","module.exports = __webpack_public_path__ + \"static/media/jpn.a1e1ea51.svg\";","module.exports = __webpack_public_path__ + \"static/media/kor.6031b375.svg\";","module.exports = __webpack_public_path__ + \"static/media/nld.e53fc83f.svg\";","module.exports = __webpack_public_path__ + \"static/media/pol.1f9d98ad.svg\";","module.exports = __webpack_public_path__ + \"static/media/bra.238fc318.svg\";","module.exports = __webpack_public_path__ + \"static/media/rus.7a8b3a7d.svg\";","module.exports = __webpack_public_path__ + \"static/media/chn.9caece66.svg\";","module.exports = __webpack_public_path__ + \"static/media/hkg.98d52d17.svg\";","module.exports = __webpack_public_path__ + \"static/media/twn.3c944f89.svg\";","module.exports = __webpack_public_path__ + \"static/media/rou.af9e2aae.svg\";"],"sourceRoot":""}