{"version":3,"sources":["core/types.js","components/Header/HeaderComponent.js","lib/mp/mp.js","components/Player/PlayerComponent.js","components/Settings/SettingsComponent.js","components/TabPanel/TabPanel.js","components/Settings/Hotkeys/HotkeysComponent.js","components/Footer/FooterComponent.js","App.js","serviceWorker.js","store/store.js","index.js","core/constants.js","util/util.js","assets/flags/ind.svg","assets/flags/gbr.svg","assets/flags/usa.svg","assets/flags/deu.svg","assets/flags/esp.svg","assets/flags/fra.svg","assets/flags/ita.svg","assets/flags/jpn.svg","assets/flags/kor.svg","assets/flags/nld.svg","assets/flags/pol.svg","assets/flags/bra.svg","assets/flags/rus.svg","assets/flags/chn.svg","assets/flags/hkg.svg","assets/flags/twn.svg","assets/flags/rou.svg"],"names":["APP","UPDATE","PLAYER","STATUS","IS_STOPPED","IS_LOADING","IS_READY","IS_PLAYING","IS_PAUSED","IS_ERROR","ACTION","LOADING","ERROR","TAB_ID","SET_VOICES","EPIC","PREV","NEXT","PLAY","STOP","HALT","PAUSE","RESUME","SETTINGS","OTHER_UPDATE","HOTKEY_FOCUS","SET_HOTKEYS","PARSER","SET_SECTIONS","GET_SECTIONS","HeaderComponent","Component","state","readingTime","updateReadingTime","calcReadingTime","this","props","sections","slice","currentSection","rate","setState","componentWillReceiveProps","nextProps","nextContext","componentDidMount","render","classes","infoText","infoTextIcon","ScheduleRounded","infoTextBox","Typography","className","text","component","messages","readTime","status","CircularProgress","size","loading","InfoSharp","start","SentimentVeryDissatisfiedRounded","failed","includes","Grid","container","spacing","align","alignItems","alignContent","justify","root","item","xs","infoIconBoxStyle","infoTextBoxStyle","IconButton","onClick","onShowSettingsChanged","showSettings","color","SettingsSharp","connect","player","settings","dispatch","toggle","type","withStyles","theme","height","fontSize","fontWeight","display","justifyContent","core","chrome","browser","mpToContent","async","message","params","console","log","Promise","resolve","reject","tabs","query","currentWindow","active","activeTab","id","sentData","sendMessage","data","tabId","response","error","PlayerComponent","parseState","playState","pauseState","t","playRef","React","createRef","stopRef","nextRef","prevRef","hotkeyEvents","play","ReactTestUtils","Simulate","click","current","stop","next","prev","registerKeyUpListener","document","addEventListener","e","clearTimeout","setTimeout","hotkeyFocus","hotkeys","which","key","code","push","onUpdateHotkeyAndResetFocus","find","Object","keys","disableHotkeys","playOrParse","parse","onPlay","onPause","onLoading","timeout","st","race","onError","onSetPlayingTabId","isDisabledPlay","isDisabledOther","playIcon","PlayArrowSharp","largeIcon","PauseSharp","playButton","flatButton","bigBtn","disabled","ref","fbutton","activeButton","style","borderLeft","onStop","StopSharp","button","smallBtn","onPrev","SkipPreviousSharp","onNext","SkipNextSharp","onSetSections","value","border","borderBottom","padding","borderRadius","width","backgroundColor","palette","primary","main","flags","GB","US","DE","ES","FR","IN","ID","IT","JP","KR","NL","PL","BR","RU","CN","HK","TW","RO","SettingsComponent","settingsChanged","val","onSettingChanged","otherSettingsChanged","onOtherSettingsChanged","voiceChanged","event","countriesFlags","voice","voices","Box","mt","mb","Autocomplete","options","getOptionLabel","option","shortTitle","groupBy","groupName","onChange","defaultValue","renderOption","countryCode","src","alt","flagImg","flagOptionImg","FlagSharp","renderInput","InputProps","startAdornment","InputAdornment","position","TextField","label","variant","fullWidth","gutterBottom","Slider","volume","aria-labelledby","valueLabelDisplay","step","scale","x","marks","min","max","pitch","FormGroup","row","FormControlLabel","control","Switch","checked","autoscroll","inputProps","updatedState","marginRight","TabPanel","children","index","other","role","hidden","p","propTypes","PropTypes","node","any","isRequired","HotkeysComponent","onPlayChanged","target","onKeyFocus","onHotkeyFocus","getKeyCombo","map","playKey","trim","length","toLocaleUpperCase","join","playDefault","stopDefault","nextDefault","prevDefault","noValidate","autoComplete","readOnly","onFocus","onBlur","hotkey","FooterComponent","a11yProps","AppBar","Tabs","aria-label","Tab","createMuiTheme","light","dark","secondary","tertiary","tracker","App","ThemeProvider","CssBaseline","Boolean","window","location","hostname","match","store","Store","ready","then","ReactDOM","getElementById","navigator","serviceWorker","registration","unregister","INTERVAL_WORD","INTERVAL_SPEAKING_SERVICE_DELAY","GA_TRACKING_ID","GA_CLIENT_ID","IS_FIREFOX","InstallTrigger","timeReadingWords","section","split","reduce","acc","timeDelayingSentences","Math","ceil","action","url","runtime","module","exports"],"mappings":"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","file":"static/js/main.c842e6cb.chunk.js","sourcesContent":["export const APP = {\n  ACTION: {\n    UPDATE: \"APP::UPDATE\"\n  }\n};\nexport const PLAYER = {\n  STATUS: {\n    IS_STOPPED: 0,\n    IS_LOADING: 1,\n    IS_READY: 2,\n    IS_PLAYING: 3,\n    IS_PAUSED: 4,\n    IS_ERROR: 5\n  },\n  ACTION: {\n    LOADING: \"PLAYER::LOADING\",\n    ERROR: \"PLAYER::ERROR\",\n    UPDATE: \"PLAYER::UPDATE\",\n    TAB_ID: \"PLAYER::TAB_ID\",\n    SET_VOICES: \"PLAYER::SET_VOICES\"\n  },\n  EPIC: {\n    PREV: \"PLAYER::PREV\",\n    NEXT: \"PLAYER::NEXT\",\n    PLAY: \"PLAYER::PLAY\",\n    STOP: \"PLAYER::STOP\",\n    HALT: \"PLAYER::HALT\",\n    PAUSE: \"PLAYER::PAUSE\",\n    RESUME: \"PLAYER::RESUME\"\n  }\n};\n\nexport const CONTENT = {\n  ACTION: {\n    SKIP_ANIMATE: \"CONTENT::SKIP_ANIMATE\"\n  }\n};\n\nexport const SETTINGS = {\n  ACTION: {\n    UPDATE: \"SETTINGS::UPDATE\",\n    OTHER_UPDATE: \"SETTINGS::OTHER_UPDATE\",\n    HOTKEY_FOCUS: \"SETTINGS::HOTKEY_FOCUS\",\n    SET_HOTKEYS: \"SETTINGS::SET_HOTKEYS\"\n  }\n};\n\nexport const PARSER = {\n  ACTION: {\n    SET_SECTIONS: \"PARSER::SET_SECTIONS\",\n    GET_SECTIONS: \"PARSER::GET_SECTIONS\"\n  }\n};\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Grid,\n  Typography,\n  CircularProgress,\n  IconButton,\n  withStyles\n} from \"@material-ui/core\";\nimport { PLAYER, APP } from \"../../core/types\";\nimport {\n  SentimentVeryDissatisfiedRounded,\n  ScheduleRounded,\n  SettingsSharp,\n  InfoSharp\n} from \"@material-ui/icons\";\nimport messages from \"../../lib/UI/UI.messages.json\";\nimport { calcReadingTime } from \"../../util/util\";\n\nconst styles = theme => ({\n  root: {\n    height: 35\n  },\n  text: {\n    fontSize: 13,\n    fontWeight: \"bold\"\n  },\n  infoIconBoxStyle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: \"#545454\"\n  },\n  infoTextBoxStyle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    color: \"#545454\"\n  }\n});\n\nclass HeaderComponent extends Component {\n  state = {\n    readingTime: 0\n  };\n\n  updateReadingTime = () => {\n    let readingTime = calcReadingTime(\n      this.props.sections.slice(this.props.currentSection),\n      this.props.rate\n    );\n\n    if (readingTime) this.setState({ readingTime: readingTime });\n  };\n\n  componentWillReceiveProps(nextProps, nextContext) {\n    this.updateReadingTime();\n  }\n\n  componentDidMount() {\n    this.updateReadingTime();\n  }\n\n  render() {\n    const { classes } = this.props;\n    let infoTextIcon = <ScheduleRounded />;\n    let infoText;\n    let infoTextBox = (\n      <Typography className={classes.text} component=\"span\">\n        {this.state.readingTime === 0\n          ? `calculating reading time..`\n          : `~${this.state.readingTime}m ${messages.readTime.text}`}\n      </Typography>\n    );\n\n    if (this.props.status === PLAYER.STATUS.IS_LOADING) {\n      infoTextIcon = <CircularProgress size={20} />;\n      infoText = messages.loading.text;\n    } else if (this.props.status === PLAYER.STATUS.IS_STOPPED) {\n      infoTextIcon = <InfoSharp />;\n      infoText = messages.start.text;\n    } else if (this.props.status === PLAYER.STATUS.IS_ERROR) {\n      infoTextIcon = <SentimentVeryDissatisfiedRounded />;\n      infoText = messages.failed.text;\n    }\n\n    if (\n      [\n        PLAYER.STATUS.IS_LOADING,\n        PLAYER.STATUS.IS_STOPPED,\n        PLAYER.STATUS.IS_ERROR\n      ].includes(this.props.status)\n    ) {\n      infoTextBox = (\n        <Typography className={classes.text} component=\"span\">\n          {infoText}\n        </Typography>\n      );\n    }\n\n    return (\n      <Grid\n        container\n        spacing={0}\n        align=\"center\"\n        alignItems=\"center\"\n        alignContent=\"center\"\n        justify=\"center\"\n        className={classes.root}\n      >\n        <Grid item xs={10}>\n          <Grid\n            container\n            alignItems=\"center\"\n            alignContent=\"center\"\n            className={classes.root}\n          >\n            <Grid\n              item\n              xs={2}\n              align=\"center\"\n              className={classes.infoIconBoxStyle}\n            >\n              {infoTextIcon}\n            </Grid>\n            <Grid\n              item\n              xs={10}\n              align=\"left\"\n              className={classes.infoTextBoxStyle}\n            >\n              {infoTextBox}\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Grid item xs={2}>\n          <IconButton\n            onClick={() => {\n              this.props.onShowSettingsChanged(!this.props.showSettings);\n            }}\n            size=\"small\"\n            color=\"primary\"\n          >\n            <SettingsSharp />\n          </IconButton>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    sections: state.player.sections,\n    currentSection: state.player.currentSection,\n    status: state.player.status,\n    showSettings: state.showSettings,\n    rate: state.player.settings.rate\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onShowSettingsChanged: toggle =>\n      dispatch({ type: APP.ACTION.UPDATE, showSettings: toggle })\n  };\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(HeaderComponent));\n","/*eslint-disable */\nconst core = chrome || browser;\n/*eslint-enable */\n\nexport const mpToContent = async (message, params) => {\n  console.log(\"Pericles.mp.mpToContent(message, params)\", message, params);\n  return new Promise(async (resolve, reject) => {\n    await core.tabs.query(\n      {\n        currentWindow: true,\n        active: true\n      },\n      async tabs => {\n        const activeTab = tabs[0];\n        if (activeTab && activeTab.id) {\n          const sentData = {};\n          sentData.message = message;\n          if (typeof params !== \"undefined\") sentData.params = params;\n          console.log(\n            \"Pericles.mp.mpToContent(activeTab, sentData)\",\n            activeTab,\n            sentData\n          );\n          core.tabs.sendMessage(activeTab.id, sentData, async data => {\n            console.log(\"Pericles.mp.mpToContent.response(data)\", data);\n            resolve({ tabId: activeTab.id, response: data || true });\n          });\n        } else {\n          reject({ error: \"no active tab\", response: false });\n        }\n      }\n    );\n  });\n};\n\nexport const getContentTabId = async () => {\n  console.log(\"Pericles.mp.getContentTabId\");\n  return new Promise(async (resolve, reject) => {\n    core.tabs.query(\n      {\n        currentWindow: true,\n        active: true\n      },\n      async tabs => {\n        const activeTab = tabs[0];\n        resolve(activeTab.id);\n      }\n    );\n  });\n};\n\nexport const mpToBackground = async (message, params) => {\n  console.log(\"Pericles.mp.mpToBackground(message, params)\", message, params);\n  return new Promise((resolve, reject) => {\n    const sentData = {};\n    sentData.message = message;\n    if (typeof params !== \"undefined\") sentData.params = params;\n\n    core.runtime.sendMessage(sentData, response => {\n      console.log(\"Pericles.mp.mpToBackground.sendMessage.response\", response);\n      resolve(response);\n    });\n  });\n};\n\nexport const mpToPopup = async (message, params) => {\n  console.log(\"Pericles.mp.mpToPopup(message, params)\", message, params);\n  return new Promise((resolve, reject) => {\n    const sentData = {};\n    sentData.message = message;\n    if (typeof params !== \"undefined\") sentData.params = params;\n\n    core.runtime.sendMessage(sentData, response => {\n      console.log(\"Pericles.mp.mpToPopup.sendMessage.response\", response);\n      resolve(response);\n    });\n  });\n};\n","import React, { Component } from \"react\";\nimport ReactTestUtils from \"react-dom/test-utils\";\n\nimport { Grid, IconButton, withStyles } from \"@material-ui/core\";\nimport {\n  PlayArrowSharp,\n  StopSharp,\n  SkipPreviousSharp,\n  SkipNextSharp,\n  PauseSharp\n} from \"@material-ui/icons\";\nimport { connect } from \"react-redux\";\nimport { mpToContent } from \"../../lib/mp/mp\";\nimport { PLAYER, PARSER, SETTINGS } from \"../../core/types\";\n\nconst styles = theme => ({\n  fbutton: {\n    border: \"1px solid #dfdfdf\",\n    borderBottom: \"none\"\n  },\n  bigBtn: {\n    padding: 16\n  },\n  smallBtn: {\n    padding: 6\n  },\n  button: {\n    border: \"1px solid #dfdfdf\"\n  },\n  flatButton: {\n    borderRadius: 0,\n    width: \"100%\"\n  },\n  activeButton: {\n    backgroundColor: theme.palette.primary.main\n  },\n  largeIcon: {\n    height: 30,\n    width: 30\n  }\n});\n\nclass PlayerComponent extends Component {\n  parseState = [PLAYER.STATUS.IS_STOPPED, PLAYER.STATUS.IS_ERROR];\n  playState = [PLAYER.STATUS.IS_READY, PLAYER.STATUS.IS_PAUSED];\n  pauseState = [PLAYER.STATUS.IS_PLAYING];\n  t = 0;\n  playRef = React.createRef();\n  stopRef = React.createRef();\n  nextRef = React.createRef();\n  prevRef = React.createRef();\n\n  componentDidMount() {\n    this.registerKeyUpListener();\n  }\n\n  hotkeyEvents = {\n    play: () => {\n      ReactTestUtils.Simulate.click(this.playRef.current);\n    },\n    stop: () => {\n      ReactTestUtils.Simulate.click(this.stopRef.current);\n    },\n    next: () => {\n      ReactTestUtils.Simulate.click(this.nextRef.current);\n    },\n    prev: () => {\n      ReactTestUtils.Simulate.click(this.prevRef.current);\n    }\n  };\n\n  registerKeyUpListener = () => {\n    document.addEventListener(\"keyup\", e => {\n      clearTimeout(this.t);\n      this.t = setTimeout(() => {\n        console.log(\"onKeyUp\", e);\n        if (this.props.hotkeyFocus) {\n          const hotkeys = [];\n          const { which, key, code } = e;\n          hotkeys.push({ which, key, code });\n          this.props.onUpdateHotkeyAndResetFocus(\n            this.props.hotkeyFocus,\n            hotkeys\n          );\n        } else {\n          const find = Object.keys(this.props.hotkeys).find(key => {\n            console.log(this.props.hotkeys[key], key, e);\n            return this.props.hotkeys[key][0].which === e.which;\n          });\n          if (!this.props.disableHotkeys && find && this.hotkeyEvents[find])\n            this.hotkeyEvents[find]();\n        }\n      }, 150);\n    });\n  };\n\n  playOrParse = async () => {\n    if (this.parseState.includes(this.props.status)) this.parse();\n    else if (this.playState.includes(this.props.status)) this.props.onPlay();\n    else if (this.pauseState.includes(this.props.status)) this.props.onPause();\n  };\n\n  parse = async () => {\n    this.props.onLoading();\n    const timeout = new Promise(resolve => {\n      let id = setTimeout(() => {\n        clearTimeout(id);\n        resolve({ response: false, error: \"timeout\" });\n      }, 40000);\n    });\n\n    try {\n      const st = await Promise.race([mpToContent(\"getSections\"), timeout]);\n      // const st = await mpToContent(\"getSections\");\n      console.log(\"getSections.response\", st);\n      if (st.response !== true) this.props.onError();\n      if (st.tabId) this.props.onSetPlayingTabId(st.tabId);\n      console.log(\"parse.succes\", st);\n    } catch (e) {\n      console.log(\"parse.error\");\n      this.props.onError();\n    }\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    const isDisabledPlay = this.props.status === PLAYER.STATUS.IS_LOADING;\n    const isDisabledOther = [\n      PLAYER.STATUS.IS_STOPPED,\n      PLAYER.STATUS.IS_LOADING,\n      PLAYER.STATUS.IS_ERROR\n    ].includes(this.props.status);\n\n    let playIcon = <PlayArrowSharp className={classes.largeIcon} />;\n\n    if (\n      [PLAYER.STATUS.IS_READY, PLAYER.STATUS.IS_PAUSED].includes(\n        this.props.status\n      )\n    ) {\n      playIcon = <PlayArrowSharp className={classes.largeIcon} />;\n    } else if (this.props.status === PLAYER.STATUS.IS_PLAYING) {\n      playIcon = <PauseSharp className={classes.largeIcon} />;\n    }\n\n    const playButton = (\n      <IconButton\n        className={`${classes.flatButton} ${classes.bigBtn}`}\n        disabled={isDisabledPlay}\n        onClick={this.playOrParse}\n        color=\"secondary\"\n        ref={this.playRef}\n      >\n        {playIcon}\n      </IconButton>\n    );\n\n    let html = (\n      <>\n        <Grid container align=\"center\">\n          <Grid\n            xs={9}\n            className={`${classes.fbutton} ${classes.activeButton}`}\n            item\n          >\n            {playButton}\n          </Grid>\n          <Grid\n            xs={3}\n            item\n            className={`${classes.fbutton}`}\n            style={{ borderLeft: \"none\" }}\n          >\n            <IconButton\n              disabled={isDisabledOther}\n              onClick={this.props.onStop}\n              className={`${classes.flatButton} ${classes.bigBtn}`}\n              color=\"primary\"\n              ref={this.stopRef}\n            >\n              <StopSharp className={classes.largeIcon} />\n            </IconButton>\n          </Grid>\n        </Grid>\n        <Grid container align=\"center\">\n          <Grid item xs={6} className={classes.button}>\n            <IconButton\n              className={`${classes.flatButton} ${classes.smallBtn}`}\n              disabled={isDisabledOther}\n              onClick={this.props.onPrev}\n              color=\"primary\"\n              size=\"small\"\n              ref={this.prevRef}\n            >\n              <SkipPreviousSharp className={classes.largeIcon} />\n            </IconButton>\n          </Grid>\n          <Grid\n            item\n            xs={6}\n            className={classes.button}\n            style={{ borderLeft: \"none\" }}\n          >\n            <IconButton\n              className={`${classes.flatButton} ${classes.smallBtn}`}\n              disabled={isDisabledOther}\n              onClick={this.props.onNext}\n              ref={this.nextRef}\n              color=\"primary\"\n              size=\"small\"\n            >\n              <SkipNextSharp className={classes.largeIcon} />\n            </IconButton>\n          </Grid>\n        </Grid>\n      </>\n    );\n    return html;\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    sections: state.player.sections,\n    status: state.player.status,\n    hotkeyFocus: state.hotkeyFocus,\n    hotkeys: state.hotkeys,\n    disableHotkeys: state.disableHotkeys\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSetSections: sections => {\n      dispatch({ type: PARSER.ACTION.SET_SECTIONS, value: sections });\n    },\n    onLoading: () => {\n      dispatch({ type: PLAYER.ACTION.LOADING });\n    },\n    onError: () => {\n      dispatch({ type: PLAYER.ACTION.ERROR });\n    },\n    onPlay: () => {\n      dispatch({ type: PLAYER.EPIC.PLAY });\n    },\n    onStop: () => {\n      dispatch({ type: PLAYER.EPIC.STOP });\n    },\n    onPause: () => {\n      dispatch({ type: PLAYER.EPIC.PAUSE });\n    },\n    onNext: () => {\n      dispatch({ type: PLAYER.EPIC.NEXT });\n    },\n    onPrev: () => {\n      dispatch({ type: PLAYER.EPIC.PREV });\n    },\n    onSetPlayingTabId: id => {\n      dispatch({ type: PLAYER.ACTION.TAB_ID, tabId: id });\n    },\n    onUpdateHotkeyAndResetFocus: (key, hotkeys) => {\n      return dispatch({\n        type: SETTINGS.ACTION.SET_HOTKEYS,\n        hotkeyFocus: \"\",\n        key: key,\n        hotkeys: hotkeys\n      });\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withStyles(styles)(PlayerComponent));\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { SETTINGS } from \"../../core/types\";\nimport {\n  FormGroup,\n  TextField,\n  Box,\n  Grid,\n  Typography,\n  Slider,\n  FormControlLabel,\n  withStyles,\n  Switch,\n  InputAdornment\n} from \"@material-ui/core\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { FlagSharp } from \"@material-ui/icons\";\nimport * as countriesFlags from \"../../core/countries.json\";\n\n// country flags\nimport GB from \"../../assets/flags/gbr.svg\";\nimport US from \"../../assets/flags/usa.svg\";\nimport DE from \"../../assets/flags/deu.svg\";\nimport ES from \"../../assets/flags/esp.svg\";\nimport FR from \"../../assets/flags/fra.svg\";\nimport IN from \"../../assets/flags/ind.svg\";\nimport ID from \"../../assets/flags/ind.svg\";\nimport IT from \"../../assets/flags/ita.svg\";\nimport JP from \"../../assets/flags/jpn.svg\";\nimport KR from \"../../assets/flags/kor.svg\";\nimport NL from \"../../assets/flags/nld.svg\";\nimport PL from \"../../assets/flags/pol.svg\";\nimport BR from \"../../assets/flags/bra.svg\";\nimport RU from \"../../assets/flags/rus.svg\";\nimport CN from \"../../assets/flags/chn.svg\";\nimport HK from \"../../assets/flags/hkg.svg\";\nimport TW from \"../../assets/flags/twn.svg\";\nimport RO from \"../../assets/flags/rou.svg\";\n\nconst flags = {\n  GB: GB,\n  US: US,\n  DE: DE,\n  ES: ES,\n  FR: FR,\n  IN: IN,\n  ID: ID,\n  IT: IT,\n  JP: JP,\n  KR: KR,\n  NL: NL,\n  PL: PL,\n  BR: BR,\n  RU: RU,\n  CN: CN,\n  HK: HK,\n  TW: TW,\n  RO: RO\n};\n\nconst styles = theme => ({\n  text: {\n    fontSize: 12\n  },\n  flagImg: {\n    width: 30\n  },\n  flagOptionImg: {\n    marginRight: 8\n  }\n});\n\nlet t;\nclass SettingsComponent extends Component {\n  settingsChanged = (key, val) => {\n    clearTimeout(t);\n    t = setTimeout(() => {\n      this.props.onSettingChanged(key, val);\n    }, 300);\n  };\n\n  otherSettingsChanged = (key, val) => {\n    this.props.onOtherSettingsChanged(key, val);\n  };\n\n  voiceChanged = (event, value, key) => {\n    console.log(\"voiceChanged\", event, value, key);\n    this.props.onSettingChanged(\"voice\", value.id);\n  };\n\n  render() {\n    console.log(\"countriesFlags\", countriesFlags);\n    console.log(\"flag GB\", GB);\n    const { classes } = this.props;\n    const voice = this.props.voices[this.props.voice];\n    return (\n      <>\n        <Box mt={1} mb={1}>\n          <Autocomplete\n            size=\"small\"\n            id=\"change-voice-combo\"\n            options={this.props.voices}\n            getOptionLabel={option => option.shortTitle}\n            groupBy={option => option.groupName}\n            onChange={this.voiceChanged}\n            defaultValue={voice}\n            style={{ width: \"100%\" }}\n            renderOption={option => {\n              return (\n                <>\n                  {flags[option.countryCode] ? (\n                    <img\n                      src={flags[option.countryCode]}\n                      alt={option.countryCode}\n                      className={`${classes.flagImg} ${classes.flagOptionImg}`}\n                    />\n                  ) : (\n                    <FlagSharp />\n                  )}\n                  {option.shortTitle}\n                </>\n              );\n            }}\n            renderInput={params => {\n              params.InputProps.startAdornment = (\n                <InputAdornment position=\"start\">\n                  {voice && flags[voice.countryCode] ? (\n                    <img\n                      src={flags[voice.countryCode]}\n                      alt={voice.countryCode}\n                      className={classes.flagImg}\n                    />\n                  ) : (\n                    <FlagSharp />\n                  )}\n                </InputAdornment>\n              );\n              return (\n                <TextField\n                  {...params}\n                  label=\"Voice & Language\"\n                  variant=\"outlined\"\n                  fullWidth\n                />\n              );\n            }}\n          />\n        </Box>\n        <Grid container>\n          <Grid item xs={12}>\n            <Typography\n              component=\"span\"\n              className={classes.text}\n              id=\"discrete-slider\"\n              gutterBottom\n            >\n              Volume\n            </Typography>\n            <Slider\n              onChange={(event, value) => {\n                this.settingsChanged(\"volume\", value);\n              }}\n              defaultValue={this.props.volume}\n              aria-labelledby=\"discrete-slider\"\n              valueLabelDisplay=\"auto\"\n              step={0.1}\n              scale={x => x * 100}\n              marks\n              min={0.1}\n              max={1}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography\n              component=\"span\"\n              className={classes.text}\n              id=\"discrete-slider\"\n              gutterBottom\n            >\n              Pitch\n            </Typography>\n            <Slider\n              onChange={(event, value) => {\n                this.settingsChanged(\"pitch\", value);\n              }}\n              defaultValue={this.props.pitch}\n              aria-labelledby=\"discrete-slider\"\n              valueLabelDisplay=\"auto\"\n              step={0.1}\n              marks\n              min={0.1}\n              max={2}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Typography\n              component=\"span\"\n              className={classes.text}\n              id=\"discrete-slider\"\n              gutterBottom\n            >\n              Speed\n            </Typography>\n            <Slider\n              onChange={(event, value) => {\n                this.settingsChanged(\"rate\", value);\n              }}\n              defaultValue={this.props.rate}\n              aria-labelledby=\"discrete-slider\"\n              valueLabelDisplay=\"auto\"\n              step={0.1}\n              marks\n              min={0.1}\n              max={3.5}\n            />\n          </Grid>\n        </Grid>\n        <FormGroup row>\n          <FormControlLabel\n            control={\n              <Switch\n                checked={this.props.autoscroll}\n                color=\"primary\"\n                onChange={(event, value) => {\n                  this.otherSettingsChanged(\"autoscroll\", value);\n                }}\n                inputProps={{ \"aria-label\": \"primary checkbox\" }}\n                value=\"1\"\n              />\n            }\n            label=\"Auto-scroll\"\n          />\n        </FormGroup>\n      </>\n    );\n  }\n}\n\nconst mapStateToPros = state => {\n  return {\n    showSettings: state.showSettings,\n\n    voice: state.player.settings.voice,\n    voices: state.player.voices,\n    volume: state.player.settings.volume,\n    pitch: state.player.settings.pitch,\n    rate: state.player.settings.rate,\n\n    autoscroll: state.autoscroll\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSettingChanged: (key, val) => {\n      const updatedState = { type: SETTINGS.ACTION.UPDATE };\n      updatedState[key] = val;\n      return dispatch(updatedState);\n    },\n    onOtherSettingsChanged: (key, val) => {\n      const updatedState = { type: SETTINGS.ACTION.OTHER_UPDATE };\n      updatedState[key] = val;\n      return dispatch(updatedState);\n    }\n  };\n};\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(withStyles(styles)(SettingsComponent));\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Box, Typography } from \"@material-ui/core\";\n\nexport default function TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={2}>{children}</Box>}\n    </Typography>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n};\n","import React, { Component } from \"react\";\nimport {\n  TextField,\n  Typography,\n  FormControlLabel,\n  FormGroup,\n  Switch\n} from \"@material-ui/core\";\nimport { SETTINGS } from \"../../../core/types\";\nimport { connect } from \"react-redux\";\n\nclass HotkeysComponent extends Component {\n  otherSettingsChanged = (key, val) => {\n    this.props.onOtherSettingsChanged(key, val);\n  };\n\n  onPlayChanged = e => {\n    console.log(\"onPlayChanged\", e.target.value);\n  };\n\n  onKeyFocus = type => {\n    this.props.onHotkeyFocus(type);\n  };\n\n  getKeyCombo = key => {\n    return this.props.hotkeys[key]\n      .map(playKey => {\n        if (playKey.key.trim().length) {\n          return playKey.key.toLocaleUpperCase();\n        } else {\n          return playKey.code.toLocaleUpperCase();\n        }\n      })\n      .join(\"+\");\n  };\n\n  render() {\n    const playDefault = this.getKeyCombo(\"play\");\n    const stopDefault = this.getKeyCombo(\"stop\");\n    const nextDefault = this.getKeyCombo(\"next\");\n    const prevDefault = this.getKeyCombo(\"prev\");\n    console.log(\"playDefault\", playDefault);\n    return (\n      <>\n        <form noValidate autoComplete=\"off\">\n          <Typography>Customize your hotkeys</Typography>\n          <div>\n            <TextField\n              inputProps={{ readOnly: true }}\n              id=\"filled-basic\"\n              label=\"play/pause\"\n              variant=\"filled\"\n              onFocus={(e: any) => {\n                this.onKeyFocus(\"play\");\n              }}\n              onBlur={() => {\n                this.onKeyFocus(\"\");\n              }}\n              value={playDefault}\n            />\n          </div>\n          <div>\n            <TextField\n              id=\"filled-basic\"\n              inputProps={{ readOnly: true }}\n              label=\"stop\"\n              variant=\"filled\"\n              onBlur={() => {\n                this.onKeyFocus(\"\");\n              }}\n              onFocus={() => {\n                this.onKeyFocus(\"stop\");\n              }}\n              value={stopDefault}\n            />\n          </div>\n          <div>\n            <TextField\n              id=\"filled-basic\"\n              inputProps={{ readOnly: true }}\n              onBlur={() => {\n                this.onKeyFocus(\"\");\n              }}\n              onFocus={() => {\n                this.onKeyFocus(\"next\");\n              }}\n              label=\"next\"\n              variant=\"filled\"\n              value={nextDefault}\n            />\n          </div>\n          <div>\n            <TextField\n              inputProps={{ readOnly: true }}\n              id=\"filled-basic\"\n              label=\"prev\"\n              onBlur={() => {\n                this.onKeyFocus(\"\");\n              }}\n              onFocus={() => {\n                this.onKeyFocus(\"prev\");\n              }}\n              variant=\"filled\"\n              value={prevDefault}\n            />\n          </div>\n        </form>\n        <FormGroup row>\n          <FormControlLabel\n            control={\n              <Switch\n                checked={this.props.disableHotkeys}\n                color=\"primary\"\n                onChange={(event, value) => {\n                  this.otherSettingsChanged(\"disableHotkeys\", value);\n                }}\n                inputProps={{ \"aria-label\": \"primary checkbox\" }}\n                value=\"1\"\n              />\n            }\n            label=\"Disable hotkeys\"\n          />\n        </FormGroup>\n      </>\n    );\n  }\n}\n\nconst mapStateToPros = state => {\n  return {\n    disableHotkeys: state.disableHotkeys,\n    hotkeys: state.hotkeys\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onOtherSettingsChanged: (key, val) => {\n      const updatedState = { type: SETTINGS.ACTION.OTHER_UPDATE };\n      updatedState[key] = val;\n      return dispatch(updatedState);\n    },\n    onHotkeyFocus: hotkey => {\n      return dispatch({\n        type: SETTINGS.ACTION.HOTKEY_FOCUS,\n        hotkeyFocus: hotkey\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToPros, mapDispatchToProps)(HotkeysComponent);\n","import React, { Component } from \"react\";\nimport SettingsComponent from \"../Settings/SettingsComponent\";\nimport { AppBar, Tab, Tabs } from \"@material-ui/core\";\nimport TabPanel from \"../TabPanel/TabPanel\";\nimport { connect } from \"react-redux\";\nimport HotkeysComponent from \"../Settings/Hotkeys/HotkeysComponent\";\n\nclass FooterComponent extends Component {\n  state = {\n    activeTab: 0\n  };\n\n  a11yProps = index => {\n    return {\n      id: `simple-tab-${index}`,\n      \"aria-controls\": `simple-tabpanel-${index}`\n    };\n  };\n\n  render() {\n    return this.props.showSettings ? (\n      <>\n        <AppBar position=\"static\" style={{ backgroundColor: \"#031a54\" }}>\n          <Tabs\n            value={this.state.activeTab}\n            onChange={(e, val) => {\n              this.setState({ activeTab: val });\n            }}\n            aria-label=\"simple tabs example\"\n          >\n            <Tab label=\"Voice\" {...this.a11yProps(0)} />\n            <Tab label=\"Hotkeys\" {...this.a11yProps(1)} />\n          </Tabs>\n        </AppBar>\n        <TabPanel value={this.state.activeTab} index={0}>\n          <SettingsComponent />\n        </TabPanel>\n        <TabPanel value={this.state.activeTab} index={1}>\n          <HotkeysComponent />\n        </TabPanel>\n      </>\n    ) : null;\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    showSettings: state.showSettings\n  };\n};\nexport default connect(mapStateToProps)(FooterComponent);\n","import React from \"react\";\nimport {\n  Box,\n  CssBaseline,\n  createMuiTheme,\n  ThemeProvider\n} from \"@material-ui/core\";\nimport \"./App.css\";\nimport HeaderComponent from \"./components/Header/HeaderComponent\";\nimport PlayerComponent from \"./components/Player/PlayerComponent\";\nimport FooterComponent from \"./components/Footer/FooterComponent\";\nimport { tracker } from \"./util/util\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#082E8B\",\n      light: \"#4e57bc\",\n      dark: \"#000a5d\"\n    },\n    secondary: {\n      main: \"#f0f0f0\",\n      light: \"#ffffff\",\n      dark: \"#cccccc\"\n    },\n    tertiary: {\n      main: \"#999\"\n    }\n  }\n});\ntracker(\"event\", \"open\");\nfunction App() {\n  return (\n    <>\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        <Box>\n          <HeaderComponent />\n          <PlayerComponent />\n          <FooterComponent />\n        </Box>\n      </ThemeProvider>\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { Store } from \"webext-redux\";\n// import reducer from \"./reducer\";\n\nconst store = new Store();\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport store from \"./store/store\";\nimport { Provider } from \"react-redux\";\n\nstore.ready().then(() => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById(\"root\")\n  );\n});\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export const INTERVAL_WORD = 0.28;\nexport const INTERVAL_SPEAKING_SERVICE_DELAY = 0.4;\nexport const GA_TRACKING_ID = \"UA-25965793-6\";\nexport const GA_CLIENT_ID = \"\";\nexport const IS_FIREFOX = typeof InstallTrigger !== \"undefined\";\n","import {\n  INTERVAL_WORD,\n  INTERVAL_SPEAKING_SERVICE_DELAY,\n  GA_TRACKING_ID,\n  GA_CLIENT_ID,\n  IS_FIREFOX\n} from \"../core/constants\";\n\n/*eslint-disable */\nconst core = chrome || browser;\n/*eslint-enable */\n\nexport const calcReadingTime = (sections, rate) => {\n  if (sections && sections.length) {\n    const words = sections\n      .map(section =>\n        section && section.text ? (section.text || \"\").split(\" \").length : 0\n      )\n      .reduce((acc, val) => acc + val);\n\n    const timeReadingWords = (words * INTERVAL_WORD) / rate;\n    const timeDelayingSentences =\n      INTERVAL_SPEAKING_SERVICE_DELAY * sections.length;\n    return Math.ceil((timeReadingWords + timeDelayingSentences) / 60);\n  } else {\n    return 0;\n  }\n};\n\nexport const tracker = (type, data, action, url) => {\n  core.runtime.sendMessage({\n    type: type,\n    data: data,\n    action: action,\n    url: url\n  });\n};\n\nexport const reportGA = params => {\n  // Firefox 1.0+\n  if (IS_FIREFOX) return false;\n  try {\n    const request = new XMLHttpRequest();\n    let message = \"\";\n    if (!params)\n      message =\n        \"v=1&tid=\" +\n        GA_TRACKING_ID +\n        \"&cid= \" +\n        GA_CLIENT_ID +\n        \"&aip=1&dp=%2Fpopup\" +\n        \"&ds=add-on&t=pageview\";\n    else\n      message =\n        \"v=1&tid=\" +\n        GA_TRACKING_ID +\n        \"&cid= \" +\n        GA_CLIENT_ID +\n        \"&aip=1\" +\n        \"&ds=add-on&t=event&ec=\" +\n        params.category +\n        \"&ea=\" +\n        params.action +\n        \"&el=\" +\n        params.label;\n\n    request.open(\"POST\", \"https://www.google-analytics.com/collect\", true);\n    request.send(message);\n  } catch (e) {\n    console.log(\"Error sending report to Google Analytics.\\n\" + e);\n  }\n};\n\nexport function getBrowserAPI() {\n  let api;\n  /*eslint-disable */\n  try {\n    api = global.chrome || global.browser || browser;\n  } catch (error) {\n    api = browser;\n  }\n  /*eslint-enable */\n\n  if (!api) {\n    throw new Error(\"Browser API is not present\");\n  }\n\n  return api;\n}\n","module.exports = __webpack_public_path__ + \"static/media/ind.f3a60ba3.svg\";","module.exports = __webpack_public_path__ + \"static/media/gbr.2e9c71c7.svg\";","module.exports = __webpack_public_path__ + \"static/media/usa.4c3d08c6.svg\";","module.exports = __webpack_public_path__ + \"static/media/deu.85f98c37.svg\";","module.exports = __webpack_public_path__ + \"static/media/esp.24eff4ba.svg\";","module.exports = __webpack_public_path__ + \"static/media/fra.85556bea.svg\";","module.exports = __webpack_public_path__ + \"static/media/ita.48651b91.svg\";","module.exports = __webpack_public_path__ + \"static/media/jpn.a1e1ea51.svg\";","module.exports = __webpack_public_path__ + \"static/media/kor.6031b375.svg\";","module.exports = __webpack_public_path__ + \"static/media/nld.e53fc83f.svg\";","module.exports = __webpack_public_path__ + \"static/media/pol.1f9d98ad.svg\";","module.exports = __webpack_public_path__ + \"static/media/bra.238fc318.svg\";","module.exports = __webpack_public_path__ + \"static/media/rus.7a8b3a7d.svg\";","module.exports = __webpack_public_path__ + \"static/media/chn.9caece66.svg\";","module.exports = __webpack_public_path__ + \"static/media/hkg.98d52d17.svg\";","module.exports = __webpack_public_path__ + \"static/media/twn.3c944f89.svg\";","module.exports = __webpack_public_path__ + \"static/media/rou.af9e2aae.svg\";"],"sourceRoot":""}